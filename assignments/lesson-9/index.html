<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>Home</title>
        <meta name="description" content="Home Page">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/smallnew11.css">
        <link rel="stylesheet" href="css/medium-7.css">
        <link rel="stylesheet" href="css/large-7.css">
    </head>

    <body>
        <header>
            <img src="images/seasonlogo.jpeg" alt="Preston Weather Today" width="80">
            <h1>Preston Weather Today</h1>
            <div class="subheading">Rain or shine, we have today's weather!</div>
          </header>
        <nav class="fixed">
            <button onclick="toggleNavMenu()">&#9776;</button>
            <ul class="topnav" id="hamburger">
                <li><class="active"><a href="index.html">Home</a></li>
                <li><a href="preston-7.html">Preston</a></li>
                <li><a href="#">Soda Springs</a></li>
                <li><a href="#">Fish Haven</a></li>
                <li><a href="stormcenter.html">Storm Center</a></li>
                <li><a href="gallery-7.html">Gallery</a></li>
            </ul>		
          </nav>

          <main class="areas">
            <section id="places">

            </section>
             <script>                                       

                var section = document.getElementById('places');
                    var requestURL= 'https://byui-cit230.github.io/weather/data/towndata.json';
                    var request = new XMLHttpRequest();
                    request.open('GET', requestURL);
                    request.responseType = 'json';
                    request.send();
                    request.onload = function() {
                    var southPlace = request.response;
                    idahoPlace(southPlace);
                    }
                
                function idahoPlace(jsonObj) {
                var place = jsonObj['towns'];
                    
                for (var i = 0; i < place.length; i++) {
                    if (place[i].name=="Preston" || place[i].name=="Soda Springs" || place[i].name=="Fish Haven"){
                    var myArticle = document.createElement('article');
                    var myH2 = document.createElement('h2');
                    var myH4 = document.createElement('h4');
                    var myPara1 = document.createElement('p');
                    var myPara2 = document.createElement('p');
                    var myPara3 = document.createElement('p');
                    var myPara4 = document.createElement('p');
                    var myPicts = document.createElement('img');
                    //var myList = document.createElement('ul');

                    myH2.textContent = place[i].name;
                    myH4.textContent = place[i].motto;
                    myPara1.textContent = 'Year Founded: ' + place[i].yearFounded;
                    myPara2.textContent = 'Population: ' + place[i].currentPopulation;
                    myPara3.textContent = 'Annual Rain Fall:' + place[i].averageRainfall;
                    myPicts.src = 'images/image'+ i + '.jpeg';
                    /*myPara4.textContent = 'Special Events: ';                                
                    var placeEvents = place[i].events;
                    for (var j = 0; j < placeEvents.length; j++) {
                    var listItem = document.createElement('li');
                    listItem.textContent = placeEvents[j];
                    myList.appendChild(listItem);
                    }*/

                    myArticle.appendChild(myH2);
                    myArticle.appendChild(myH4);
                    myArticle.appendChild(myPara1);
                    myArticle.appendChild(myPara2);
                    myArticle.appendChild(myPara3);
                    myArticle.appendChild(myPicts);
                    myArticle.appendChild(myPara4);
                    //myArticle.appendChild(myList);

                    section.appendChild(myArticle);
                }}
                }
            </script>
         </main>
         <footer class="clearfix">
            <div class="bottom">&copy;2019 Weather Today | Nancy Oram | <span id="output"></span>
                <script src="scripts/currentdate.js"></script>
                
            </div> 
        </footer>
    </div>
</body>
</html> 